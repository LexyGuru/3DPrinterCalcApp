<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Cache control meta tags - dev m√≥dban cache kikapcsol√°sa -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- Immediate logging script - fut miel≈ëtt b√°rmi m√°s -->
    <script>
      console.log("üåê [HTML] index.html bet√∂ltve");
      console.log("üåê [HTML] Root element:", document.getElementById('root'));
      console.log("üåê [HTML] Window object:", typeof window);
      console.log("üåê [HTML] Tauri available:", typeof window !== 'undefined' && window.__TAURI__);
      console.log("üåê [HTML] Document ready state:", document.readyState);
      console.log("üåê [HTML] Location:", window.location.href);
      
      // Fallback UI azonnali megjelen√≠t√©se - csak development m√≥dban (diagnosztika)
      const root = document.getElementById('root');
      const isDev = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || window.location.port !== '';
      if (root && isDev) {
        root.innerHTML = '<div id="html-loading" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; font-family: system-ui; background: #1a1a1a; color: white; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999;"><div style="font-size: 24px; margin-bottom: 20px;">‚è≥ HTML bet√∂ltve, React bet√∂lt√©se...</div><div style="font-size: 12px; color: #888;" id="html-status">V√°rakoz√°s main.tsx bet√∂lt√©s√©re...</div><div style="font-size: 10px; color: #666; margin-top: 20px;" id="html-error"></div></div>';
        console.log("üåê [HTML] Fallback UI megjelen√≠tve (DEV m√≥d - diagnosztika)");
      }
      
      // Error handler
      window.addEventListener('error', (e) => {
        console.error("‚ùå [HTML] Global error:", e.error, e.message, e.filename, e.lineno);
        const errorEl = document.getElementById('html-error');
        if (errorEl) {
          errorEl.textContent = `Hiba: ${e.message} (${e.filename}:${e.lineno})`;
          errorEl.style.color = '#ff4444';
        }
      });
      
      // Unhandled promise rejection
      window.addEventListener('unhandledrejection', (e) => {
        console.error("‚ùå [HTML] Unhandled promise rejection:", e.reason);
        const errorEl = document.getElementById('html-error');
        if (errorEl) {
          errorEl.textContent = `Promise rejection: ${e.reason}`;
          errorEl.style.color = '#ff4444';
        }
      });
      
      // Vite dev server ellen≈ërz√©se
      fetch('/src/main.tsx')
        .then(() => {
          console.log("‚úÖ [HTML] Vite dev server el√©rhet≈ë");
          const statusEl = document.getElementById('html-status');
          if (statusEl) {
            statusEl.textContent = "‚úÖ Vite dev server el√©rhet≈ë, main.tsx bet√∂lt√©se...";
          }
        })
        .catch((err) => {
          console.error("‚ùå [HTML] Vite dev server NEM el√©rhet≈ë:", err);
          const statusEl = document.getElementById('html-status');
          const errorEl = document.getElementById('html-error');
          if (statusEl) {
            statusEl.textContent = "‚ùå Vite dev server NEM el√©rhet≈ë!";
            statusEl.style.color = '#ff4444';
          }
          if (errorEl) {
            errorEl.textContent = "Ellen≈ërizd, hogy a Vite dev server fut-e (pnpm dev a frontend mapp√°ban)";
            errorEl.style.color = '#ff4444';
          }
        });
      
      // Timeout - ha 5 m√°sodperc ut√°n sem t√∂rt√©nik semmi
      setTimeout(() => {
        const statusEl = document.getElementById('html-status');
        if (statusEl && (statusEl.textContent.includes('V√°rakoz√°s') || statusEl.textContent.includes('bet√∂lt√©se'))) {
          console.error("‚ùå [HTML] TIMEOUT: main.tsx nem t√∂lt≈ëd√∂tt be 5 m√°sodperc alatt!");
          statusEl.textContent = "‚ùå TIMEOUT: main.tsx nem t√∂lt≈ëd√∂tt be!";
          statusEl.style.color = '#ff4444';
          
          const errorEl = document.getElementById('html-error');
          if (errorEl) {
            errorEl.textContent = "Ellen≈ërizd a b√∂ng√©sz≈ë konzolt (F12) √©s a termin√°l kimenet√©t!";
            errorEl.style.color = '#ff4444';
          }
        }
      }, 5000);
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
