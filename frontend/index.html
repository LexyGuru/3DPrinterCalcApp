<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Cache control meta tags - dev mÃ³dban cache kikapcsolÃ¡sa -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- Immediate logging script - fut mielÅ‘tt bÃ¡rmi mÃ¡s -->
    <script>
      console.log("ğŸŒ [HTML] index.html betÃ¶ltve");
      console.log("ğŸŒ [HTML] Root element:", document.getElementById('root'));
      console.log("ğŸŒ [HTML] Window object:", typeof window);
      console.log("ğŸŒ [HTML] Tauri available:", typeof window !== 'undefined' && window.__TAURI__);
      console.log("ğŸŒ [HTML] Document ready state:", document.readyState);
      console.log("ğŸŒ [HTML] Location:", window.location.href);
      
      // Fallback UI azonnali megjelenÃ­tÃ©se
      const root = document.getElementById('root');
      if (root) {
        root.innerHTML = '<div id="html-loading" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; font-family: system-ui; background: #1a1a1a; color: white; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999;"><div style="font-size: 24px; margin-bottom: 20px;">â³ HTML betÃ¶ltve, React betÃ¶ltÃ©se...</div><div style="font-size: 12px; color: #888;" id="html-status">VÃ¡rakozÃ¡s main.tsx betÃ¶ltÃ©sÃ©re...</div><div style="font-size: 10px; color: #666; margin-top: 20px;" id="html-error"></div></div>';
        console.log("ğŸŒ [HTML] Fallback UI megjelenÃ­tve");
      }
      
      // Error handler
      window.addEventListener('error', (e) => {
        console.error("âŒ [HTML] Global error:", e.error, e.message, e.filename, e.lineno);
        const errorEl = document.getElementById('html-error');
        if (errorEl) {
          errorEl.textContent = `Hiba: ${e.message} (${e.filename}:${e.lineno})`;
          errorEl.style.color = '#ff4444';
        }
      });
      
      // Unhandled promise rejection
      window.addEventListener('unhandledrejection', (e) => {
        console.error("âŒ [HTML] Unhandled promise rejection:", e.reason);
        const errorEl = document.getElementById('html-error');
        if (errorEl) {
          errorEl.textContent = `Promise rejection: ${e.reason}`;
          errorEl.style.color = '#ff4444';
        }
      });
      
      // Vite dev server ellenÅ‘rzÃ©se
      fetch('/src/main.tsx')
        .then(() => {
          console.log("âœ… [HTML] Vite dev server elÃ©rhetÅ‘");
          const statusEl = document.getElementById('html-status');
          if (statusEl) {
            statusEl.textContent = "âœ… Vite dev server elÃ©rhetÅ‘, main.tsx betÃ¶ltÃ©se...";
          }
        })
        .catch((err) => {
          console.error("âŒ [HTML] Vite dev server NEM elÃ©rhetÅ‘:", err);
          const statusEl = document.getElementById('html-status');
          const errorEl = document.getElementById('html-error');
          if (statusEl) {
            statusEl.textContent = "âŒ Vite dev server NEM elÃ©rhetÅ‘!";
            statusEl.style.color = '#ff4444';
          }
          if (errorEl) {
            errorEl.textContent = "EllenÅ‘rizd, hogy a Vite dev server fut-e (pnpm dev a frontend mappÃ¡ban)";
            errorEl.style.color = '#ff4444';
          }
        });
      
      // Timeout - ha 5 mÃ¡sodperc utÃ¡n sem tÃ¶rtÃ©nik semmi
      setTimeout(() => {
        const statusEl = document.getElementById('html-status');
        if (statusEl && (statusEl.textContent.includes('VÃ¡rakozÃ¡s') || statusEl.textContent.includes('betÃ¶ltÃ©se'))) {
          console.error("âŒ [HTML] TIMEOUT: main.tsx nem tÃ¶ltÅ‘dÃ¶tt be 5 mÃ¡sodperc alatt!");
          statusEl.textContent = "âŒ TIMEOUT: main.tsx nem tÃ¶ltÅ‘dÃ¶tt be!";
          statusEl.style.color = '#ff4444';
          
          const errorEl = document.getElementById('html-error');
          if (errorEl) {
            errorEl.textContent = "EllenÅ‘rizd a bÃ¶ngÃ©szÅ‘ konzolt (F12) Ã©s a terminÃ¡l kimenetÃ©t!";
            errorEl.style.color = '#ff4444';
          }
        }
      }, 5000);
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
